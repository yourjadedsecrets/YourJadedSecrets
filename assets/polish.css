/* YJS POLISH LAYER
   Purpose: consistent image hierarchy, spacing, responsive behavior, subtle transitions.
   Keep it minimal. Keep it expensive.
*/

:root{
  --yjs-img-radius: 18px;
  --yjs-img-radius-sm: 14px;
  --yjs-img-shadow: 0 22px 70px rgba(0,0,0,.52);
  --yjs-img-shadow-soft: 0 14px 46px rgba(0,0,0,.42);
  --yjs-max-hero: 820px;
  --yjs-max-panel: 560px;
  --yjs-max-env: 980px;
  --yjs-gap-hero: 28px;
  --yjs-gap-panel: 18px;
}

/* Global image safety */
img{
  height: auto;
  max-width: 100%;
}

/* Core visual roles */
.hero, .environment, .panel{
  display:block;
  margin-left:auto;
  margin-right:auto;
  border-radius: var(--yjs-img-radius);
  box-shadow: var(--yjs-img-shadow-soft);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  overflow:hidden;
}

/* Hero: statement piece */
.hero{
  width: min(var(--yjs-max-hero), 100%);
  margin-top: var(--yjs-gap-hero);
  margin-bottom: var(--yjs-gap-hero);
  box-shadow: var(--yjs-img-shadow);
}

/* Environment: mood framing */
.environment{
  width: min(var(--yjs-max-env), 100%);
  margin-top: 22px;
  margin-bottom: 22px;
  opacity: .88;
}

/* Panel: supporting focus */
.panel{
  width: min(var(--yjs-max-panel), 100%);
  margin-top: var(--yjs-gap-panel);
  margin-bottom: var(--yjs-gap-panel);
  opacity: .96;
}

/* Specific: locked “seal” look (if you use the class) */
.lock-seal, .seal{
  display:block;
  width: 96px;
  height:auto;
  margin: 26px auto;
  opacity: .96;
  filter: drop-shadow(0 0 26px rgba(120,160,255,.22));
}

/* Subtle “arrive” animation for visuals */
@keyframes yjsFadeUp{
  from{ opacity:0; transform: translate3d(0,10px,0); }
  to{ opacity:1; transform: translate3d(0,0,0); }
}
.hero, .environment, .panel{
  animation: yjsFadeUp .28s ease-out both;
}

/* Per-room nuance (optional, driven by body[data-page]) */
body[data-page="rooms"] .environment{ opacity: .90; }
body[data-page="atelier"] .environment{ opacity: .92; }
body[data-page="inner-chamber"] .environment{ opacity: .86; }
body[data-page="vault-reward"] .panel{ opacity: .94; }

/* Mobile hierarchy: less vertical churn */
@media (max-width: 560px){
  .hero, .environment, .panel{
    border-radius: var(--yjs-img-radius-sm);
  }
  .hero{
    margin-top: 18px;
    margin-bottom: 18px;
  }
  .environment{
    margin-top: 16px;
    margin-bottom: 16px;
  }
  .panel{
    margin-top: 14px;
    margin-bottom: 14px;
  }
}


/* =========================================================
   MATCHING LAYER: unify card imagery (Rooms / Index tiles)
   Goal: make mixed-source art feel like one deck.
   ========================================================= */

.room{
  /* keep text crisp, grade happens via overlays */
  position: relative;
  isolation: isolate; /* ensures blend layers don't bleed */
}

/* Subtle film grain + texture (very low) */
.room::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(900px 360px at 25% 0%, rgba(255,220,140,.10), transparent 55%),
    radial-gradient(700px 420px at 80% 100%, rgba(0,0,0,.72), transparent 58%),
    repeating-linear-gradient(0deg,
      rgba(255,255,255,.018) 0px,
      rgba(255,255,255,.018) 1px,
      rgba(0,0,0,0) 3px,
      rgba(0,0,0,0) 6px
    );
  opacity: .22;
  mix-blend-mode: overlay;
  z-index: 1;
}

/* Gold-black grade + vignette, makes b/w assets sit in palette */
.room::after{
  /* if your page already has ::after, this overrides it gently */
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    linear-gradient(120deg,
      rgba(184,156,89,.30) 0%,
      rgba(0,0,0,.52) 55%,
      rgba(0,0,0,.80) 100%
    ),
    radial-gradient(760px 240px at 35% 0%,
      rgba(255,210,130,.16),
      transparent 60%
    ),
    radial-gradient(620px 280px at 70% 105%,
      rgba(0,0,0,.78),
      transparent 60%
    );
  opacity: .70;
  mix-blend-mode: multiply;
  transition: opacity .18s ease;
  z-index: 2;
}

/* Hover: tiny lift, not neon arcade */
.room:hover::after{
  opacity: .62;
}

/* Keep labels above the grade */
.room .meta, .room .title, .room .tag, .room .badge{
  position: relative;
  z-index: 3;
}

/* Optional: make the Mirror tile feel less "silver sticker"
   by giving it the same grade but slightly brighter center.
   If your tile has a title containing 'ORACLE MIRROR', this helps visually. */
.room[data-room*="mirror"]::after,
.room[data-room="oracle-mirror"]::after{
  opacity: .64;
}
